(function(e){function t(t){for(var i,a,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)a=o[u],r[a]&&m.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(i=!1)}i&&(n.splice(t--,1),e=a(a.s=s[0]))}return e}var i={},r={app:0},n=[];function a(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=i,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"199e":function(e,t,s){"use strict";var i=s("2e3f"),r=s.n(i);r.a},"2e3f":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("link",{attrs:{rel:"stylesheet",href:"//fonts.googleapis.com/css?family=Roboto:400,500,700,400italic|Material+Icons"}}),s("link",{attrs:{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.7.2/css/all.css",integrity:"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr",crossorigin:"anonymous"}}),s("AreaListView",{staticClass:"area-list-view"}),s("WirelessSocketListView",{staticClass:"wireless-socket-list-view"}),s("WirelessSocketDetailView",{staticClass:"detail-view"})],1)},n=[],a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("md-list",{staticClass:"md-single-line"},e._l(e.areaList,function(t,i){return s("div",{key:i},[s("md-list-item",{class:{selected:t.id===e.selectedArea.id,selectable:t.id!==e.selectedArea.id}},[t.name?s("div",{staticClass:"md-list-item-text",on:{click:function(s){return e.select(t)}}},[s("span",[e._v(e._s(t.name))])]):s("md-field",[s("label",[e._v("Name")]),s("md-input",{model:{value:e.newAreaName,callback:function(t){e.newAreaName=t},expression:"newAreaName"}}),s("md-button",{staticClass:"md-icon-button save-button md-primary",on:{click:e.saveArea}},[s("md-icon",[e._v("save")])],1)],1)],1),s("md-divider",{staticClass:"md-inset"})],1)}),0),s("md-button",{staticClass:"md-icon-button md-raised add-button md-primary",on:{click:e.addArea}},[s("md-icon",[e._v("add")])],1)],1)},o=[],c={name:"AreaListView",data:function(){return{newAreaName:null}},methods:{select:function(e){this.$store.dispatch("selectArea",e)},addArea:function(){this.$store.dispatch("addArea")},saveArea:function(){this.newAreaName.length>0&&this.$store.dispatch("saveArea",{id:this.$store.getters.selectedArea.id,name:this.newAreaName,filter:this.newAreaName})}},computed:{areaList:function(){return this.$store.getters.areaList},selectedArea:function(){return this.$store.getters.selectedArea}}},l=c,d=(s("199e"),s("2877")),u=Object(d["a"])(l,a,o,!1,null,"5db087fa",null),m=u.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.selectedWirelessSocket?s("div",[s("form",{staticClass:"md-layout",staticStyle:{margin:"1rem"},attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validate(t)}}},[s("md-card",{staticClass:"md-layout-item md-size-95 md-small-size-100"},[s("md-card-header",[s("div",{staticClass:"md-title"},[e._v("WirelessSocket Data")])]),s("md-card-content",[s("div",[s("div",{staticClass:"md-layout md-gutter"},[s("div",{staticClass:"md-layout-item md-small-size-100"},[s("md-field",{class:e.getValidationClass("name")},[s("label",{attrs:{for:"name"}},[e._v("Name")]),s("md-input",{attrs:{name:"name",id:"name",disabled:e.sending},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e.$v.form.name.required?e.$v.form.name.minlength?e._e():s("span",{staticClass:"md-error"},[e._v("Invalid name length")]):s("span",{staticClass:"md-error"},[e._v("The name is required")])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100"},[s("md-field",{class:e.getValidationClass("code")},[s("label",{attrs:{for:"code"}},[e._v("Code")]),s("md-input",{attrs:{name:"code",id:"code",disabled:e.sending},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e.$v.form.code.required?e.$v.form.code.minlength?e.$v.form.code.maxlength?e._e():s("span",{staticClass:"md-error"},[e._v("Invalid code length (too long)")]):s("span",{staticClass:"md-error"},[e._v("Invalid code length (too short)")]):s("span",{staticClass:"md-error"},[e._v("The code is required")])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100"},[s("md-field",{class:e.getValidationClass("area")},[s("label",{attrs:{for:"area"}},[e._v("Area")]),s("md-input",{attrs:{name:"area",id:"area",disabled:e.sending},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}}),e.$v.form.area.required?e.$v.form.area.minlength?e._e():s("span",{staticClass:"md-error"},[e._v("Invalid area length")]):s("span",{staticClass:"md-error"},[e._v("The area is required")])],1)],1)]),s("div",{staticClass:"md-layout-item md-small-size-100"},[s("md-field",[s("label",{attrs:{for:"description"}},[e._v("Description")]),s("md-input",{attrs:{name:"description",id:"description",disabled:e.sending},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100"},[s("md-field",[s("label",{attrs:{for:"icon"}},[e._v("Icon")]),s("md-input",{attrs:{name:"icon",id:"icon",disabled:e.sending},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}}),s("md-icon",{class:e.form.icon})],1),s("a",{attrs:{href:"https://fontawesome.com/icons?d=gallery&m=free",target:"_"}},[e._v("Get Icons from here")])],1)])]),e.sending?s("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),s("md-card-actions",[s("md-button",{staticClass:"md-primary",attrs:{type:"submit",disabled:e.sending||!e.hasChanges()}},[e._v("Save wireless socket")])],1),s("md-card-actions",[s("md-button",{staticClass:"md-accent",attrs:{disabled:e.sending||e.hasChanges()},on:{click:function(t){e.deleteDialogActive=!0}}},[e._v("Delete wireless socket")])],1)],1),s("md-snackbar",{attrs:{"md-active":e.saved},on:{"update:mdActive":function(t){e.saved=t},"update:md-active":function(t){e.saved=t}}},[e._v("The wireless socket was saved with success!")])],1),s("md-dialog-confirm",{attrs:{"md-active":e.deleteDialogActive,"md-title":"Delete?","md-content":"Do you want to delete this wireless socket?","md-confirm-text":"Yes","md-cancel-text":"No"},on:{"update:mdActive":function(t){e.deleteDialogActive=t},"update:md-active":function(t){e.deleteDialogActive=t},"md-confirm":e.onDeleteYes}})],1):e._e()},v=[],h=(s("7f7f"),s("1dce")),p=s.n(h),S=s("b5ae"),k={name:"WirelessSocketDetailView",mixins:[h["validationMixin"]],data:function(){return{form:{name:null,code:null,area:null,state:!1,description:null,icon:null},saved:!1,sending:!1,deleteDialogActive:!1}},validations:{form:{name:{required:S["required"],minLength:Object(S["minLength"])(3),maxLength:Object(S["maxLength"])(128)},code:{required:S["required"],minLength:Object(S["minLength"])(6),maxLength:Object(S["maxLength"])(6)},area:{required:S["required"],minLength:Object(S["minLength"])(3),maxLength:Object(S["maxLength"])(128)},icon:{required:S["required"],minLength:Object(S["minLength"])(8),maxLength:Object(S["maxLength"])(32)}}},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.setFormData(this.selectedWirelessSocket)},save:function(){var e=this;this.sending=!0,window.setTimeout(function(){var t={id:e.selectedWirelessSocket.id,name:e.form.name,area:e.form.area,code:e.form.code,state:!1,description:e.form.description,icon:e.form.icon};e.$store.dispatch("saveWirelessSocket",t),e.saved=!0,e.sending=!1,e.clearForm()},1500)},onDeleteYes:function(){this.$store.dispatch("removeWirelessSocket",this.selectedWirelessSocket)},validate:function(){this.$v.$touch(),this.$v.$invalid||this.save()},setFormData:function(e){e?(this.form.name=e.name,this.form.code=e.code,this.form.area=e.area,this.form.description=e.description,this.form.icon=e.icon):(this.form.name=null,this.form.code=null,this.form.area=null,this.form.description=null,this.form.icon=null)},hasChanges:function(){return this.form.name!==this.selectedWirelessSocket.name||this.form.code!==this.selectedWirelessSocket.code||this.form.area!==this.selectedWirelessSocket.area||this.form.description!==this.selectedWirelessSocket.description||this.form.icon!==this.selectedWirelessSocket.icon}},watch:{selectedWirelessSocket:function(e){this.setFormData(e)}},created:function(){var e=this.$store.getters.selectedWirelessSocket;this.setFormData(e)},computed:{selectedWirelessSocket:function(){return this.$store.getters.selectedWirelessSocket},selectedArea:function(){return this.$store.getters.selectedArea}}},g=k,L=(s("66c6"),Object(d["a"])(g,f,v,!1,null,"a7c6162c",null)),b=L.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("md-list",{staticClass:"md-triple-line"},e._l(e.wirelessSocketList,function(t,i){return s("div",{key:i},[s("md-list-item",{class:{selected:t.id===e.selectedWirelessSocket.id,selectable:t.id!==e.selectedWirelessSocket.id}},[s("md-avatar",{on:{click:function(s){return e.select(t)}}},[s("md-icon",{class:t.icon})],1),s("div",{staticClass:"md-list-item-text",on:{click:function(s){return e.select(t)}}},[s("span",[e._v(e._s(t.name))]),s("span",[e._v(e._s(t.area))]),s("p",[e._v(e._s(t.code))])]),s("md-button",{staticClass:"md-icon-button md-raised",attrs:{disabled:e.sending},on:{click:function(s){return e.toggleState(t)}}},[s("md-icon",{class:{"fas fa-toggle-on":t.state,"fas fa-toggle-off":!t.state}})],1)],1),s("md-divider",{staticClass:"md-inset"})],1)}),0),s("md-button",{staticClass:"md-icon-button md-raised add-button md-primary",on:{click:e.addWirelessSocket}},[s("md-icon",[e._v("add")])],1)],1)},w=[],A={name:"WirelessSocketListView",data:function(){return{sending:!1}},methods:{select:function(e){this.$store.dispatch("selectWirelessSocket",e)},toggleState:function(e){var t=this;this.sending=!0,window.setTimeout(function(){t.$store.dispatch("toggleWirelessSocketState",e),t.sending=!1},500)},addWirelessSocket:function(){this.$store.dispatch("addWirelessSocket")}},computed:{wirelessSocketList:function(){return this.$store.getters.visibleWirelessSocketList},selectedWirelessSocket:function(){return this.$store.getters.selectedWirelessSocket}}},W=A,E=(s("93d8"),Object(d["a"])(W,_,w,!1,null,"a8f5bf90",null)),C=E.exports,O={components:{AreaListView:m,WirelessSocketDetailView:b,WirelessSocketListView:C},methods:{init:function(){this.$store.dispatch("init",this.$axiosService)}},mounted:function(){this.init()}},y=O,$=(s("5c0b"),Object(d["a"])(y,r,n,!1,null,null,null)),x=$.exports,R=s("75fc"),D=s("f499"),T=s.n(D),j=s("2f62"),I=s("795b"),M=s.n(I),V=s("bc3a"),q=s.n(V),K=[{id:1,filter:"Sleeping Room",name:"Sleeping Room"},{id:2,filter:"Living Room",name:"Living Room"},{id:3,filter:"Working Room",name:"Working Room"},{id:4,filter:"Kitchen",name:"Kitchen"}],N=[{id:0,icon:"fas fa-lightbulb",name:"Light Sleeping",area:"Sleeping Room",code:"11010A",state:!1,description:""},{id:1,icon:"fas fa-headphones",name:"Sound TV",area:"Living Room",code:"11010B",state:!1,description:""},{id:2,icon:"fab fa-raspberry-pi",name:"Raspberry Pi MediaCenter",area:"Living Room",code:"11010C",state:!1,description:""},{id:3,icon:"fas fa-lightbulb",name:"Light Couch",area:"Living Room",code:"11010D",state:!0,description:""},{id:4,icon:"fas fa-hdd",name:"Backup Drive",area:"Working Room",code:"11010E",state:!1,description:""},{id:5,icon:"fas fa-tablet-alt",name:"Media Mirror Kitchen",area:"Kitchen",code:"11011A",state:!0,description:""},{id:6,icon:"fas fa-lightbulb",name:"Light Ceiling",area:"Living Room",code:"11000A",state:!1,description:""}],z=function(e){switch(e){case"area":var t={error:null,response:K,status:"success"};return M.a.resolve(t);case"wireless_socket":var s={error:null,response:N,status:"success"};return M.a.resolve(s);default:var i={error:"Invalid url",response:null,status:"error"};return M.a.resolve(i)}},P=function(e,t){switch(e){case"area":var s={error:null,response:t.id+1,status:"success"};return M.a.resolve(s);case"wireless_socket":var i={error:null,response:t.id+1,status:"success"};return M.a.resolve(i);default:var r={error:"Invalid url",response:null,status:"error"};return M.a.resolve(r)}},F=function(e,t){switch(e){case"area":var s={error:null,response:0,status:"success"};return M.a.resolve(s);case"wireless_socket":var i={error:null,response:0,status:"success"};return M.a.resolve(i);default:var r={error:"Invalid url",response:null,status:"error"};return M.a.resolve(r)}},G={getMock:z,putMock:P,postDeleteMock:F},Y=!1,B="apps/lucahome/api/v1/",H={get:function(e){return Y?G.getMock(e):q.a.get(B+e).then(function(e){return M.a.resolve(e)}).catch(function(e){return M.a.reject(e)})},put:function(e,t){return Y?G.putMock(e,t):q.a.put(B+e,t).then(function(e){return M.a.resolve(e)}).catch(function(e){return M.a.reject(e)})},post:function(e,t){return Y?G.postDeleteMock(e,t):q.a.post(B+e,t).then(function(e){return M.a.resolve(e)}).catch(function(e){return M.a.reject(e)})},delete:function(e,t){return Y?G.postDeleteMock(e,t):q.a.delete(B+e,t).then(function(e){return M.a.resolve(e)}).catch(function(e){return M.a.reject(e)})}};i["default"].use(j["a"]);var J={id:0,filter:"",name:"All"},Q=new j["a"].Store({state:{areaList:[],selectedArea:null,wirelessSocketList:[],visibleWirelessSocketList:[],selectedWirelessSocket:null},mutations:{INIT:function(e){H.get("area").then(function(t){if("success"===t.status){var s=[J];e.areaList=s.concat(t.response)}else e.areaList=[J],console.error(T()(t));e.selectedArea=e.areaList[0],H.get("wireless_socket").then(function(t){"success"===t.status?e.wirelessSocketList=t.response:(e.wirelessSocketList=[],console.error(T()(t)));var s=""===e.selectedArea.filter?e.wirelessSocketList:e.wirelessSocketList.filter(function(t){return t.area===e.selectedArea.filter});e.visibleWirelessSocketList=s;var i=s.length>0?s[0]:null;e.selectedWirelessSocket=i})})},SELECT_AREA:function(e,t){e.selectedArea=t;var s=""===t.filter?e.wirelessSocketList:e.wirelessSocketList.filter(function(e){return e.area===t.filter});e.visibleWirelessSocketList=s;var i=s.length>0?s[0]:null;e.selectedWirelessSocket=i},ADD_AREA:function(e){var t={id:Math.max.apply(Math,Object(R["a"])(e.areaList.map(function(e){return e.id})))+1,filter:"",name:""};H.put("area",t).then(function(s){"success"===s.status&&s.response>=0?(t.id=s.response,e.areaList.push(t),e.selectedArea=t,e.visibleWirelessSocketList=null,e.selectedWirelessSocket=null):console.error(T()(s))})},SAVE_AREA:function(e,t){H.post("area",t).then(function(s){if("success"===s.status&&0===s.response){var i=e.areaList,r=i.map(function(e){return e.id}).indexOf(t.id);i[r]=t,e.areaList=i,e.selectedArea=t}else console.error(T()(s))})},REMOVE_AREA:function(e,t){H.delete("area",t.id).then(function(s){if("success"===s.status&&0===s.response){var i=e.areaList;i.splice(i.indexOf(t),1),e.areaList=i,e.selectedArea=null;var r=""===t.filter?e.wirelessSocketList:e.wirelessSocketList.filter(function(e){return e.area!==t.filter});e.wirelessSocketList=r,e.visibleWirelessSocketList=null,e.selectedWirelessSocket=null}else console.error(T()(s))})},SELECT_WIRELESS_SOCKET:function(e,t){e.selectedWirelessSocket=t},ADD_WIRELESS_SOCKET:function(e){var t={id:e.wirelessSocketList.length,name:"",area:e.selectedArea!==J?e.selectedArea.name:"",code:"",state:!1,description:"",icon:""};H.put("wireless_socket",t).then(function(s){if("success"===s.status&&s.response>=0){e.wirelessSocketList.push(t);var i=""===e.selectedArea.filter?e.wirelessSocketList:e.wirelessSocketList.filter(function(t){return t.area===e.selectedArea.filter});e.visibleWirelessSocketList=i,e.selectedWirelessSocket=t}else console.error(T()(s))})},SAVE_WIRELESS_SOCKET:function(e,t){H.post("wireless_socket",t).then(function(s){if("success"===s.status&&0===s.response){var i=e.wirelessSocketList,r=i.map(function(e){return e.id}).indexOf(t.id);i[r]=t,e.wirelessSocketList=i;var n=""===e.selectedArea.filter?e.wirelessSocketList:e.wirelessSocketList.filter(function(t){return t.area===e.selectedArea.filter});e.visibleWirelessSocketList=n,e.selectedWirelessSocket=t}else console.error(T()(s))})},TOGGLE_WIRELESS_SOCKET_STATE:function(e,t){t.state=!t.state,H.post("wireless_socket",t).then(function(s){if("success"===s.status&&0===s.response){var i=e.wirelessSocketList,r=i.map(function(e){return e.id}).indexOf(t.id);i[r]=t,e.wirelessSocketList=i;var n=""===e.selectedArea.filter?e.wirelessSocketList:e.wirelessSocketList.filter(function(t){return t.area===e.selectedArea.filter});e.visibleWirelessSocketList=n,e.selectedWirelessSocket=t}else console.error(T()(s))})},REMOVE_WIRELESS_SOCKET:function(e,t){H.delete("wireless_socket",t.id).then(function(s){if("success"===s.status&&0===s.response){var i=e.wirelessSocketList;i.splice(i.indexOf(t),1),e.wirelessSocketList=i;var r=""===e.selectedArea.filter?e.wirelessSocketList:e.wirelessSocketList.filter(function(t){return t.area===e.selectedArea.filter});e.visibleWirelessSocketList=r;var n=r.length>0?r[0]:null;e.selectedWirelessSocket=n}else console.error(T()(s))})}},actions:{init:function(e){var t=e.commit;t("INIT")},selectArea:function(e,t){var s=e.commit;s("SELECT_AREA",t)},addArea:function(e){var t=e.commit;t("ADD_AREA")},saveArea:function(e,t){var s=e.commit;s("SAVE_AREA",t)},removeArea:function(e,t){var s=e.commit;s("REMOVE_AREA",t)},selectWirelessSocket:function(e,t){var s=e.commit;s("SELECT_WIRELESS_SOCKET",t)},addWirelessSocket:function(e){var t=e.commit;t("ADD_WIRELESS_SOCKET")},saveWirelessSocket:function(e,t){var s=e.commit;s("SAVE_WIRELESS_SOCKET",t)},toggleWirelessSocketState:function(e,t){var s=e.commit;s("TOGGLE_WIRELESS_SOCKET_STATE",t)},removeWirelessSocket:function(e,t){var s=e.commit;s("REMOVE_WIRELESS_SOCKET",t)}},getters:{areaList:function(e){return e.areaList},selectedArea:function(e){return e.selectedArea},wirelessSocketList:function(e){return e.wirelessSocketList},visibleWirelessSocketList:function(e){return e.visibleWirelessSocketList},selectedWirelessSocket:function(e){return e.selectedWirelessSocket}}}),U=s("43f9"),X=s.n(U);s("51de"),s("0759");i["default"].use(X.a),i["default"].use(p.a),new i["default"]({el:"#app",store:Q,render:function(e){return e(x)}})},5748:function(e,t,s){},"5c0b":function(e,t,s){"use strict";var i=s("5e27"),r=s.n(i);r.a},"5e27":function(e,t,s){},"66c6":function(e,t,s){"use strict";var i=s("c387"),r=s.n(i);r.a},"93d8":function(e,t,s){"use strict";var i=s("5748"),r=s.n(i);r.a},c387:function(e,t,s){}});
//# sourceMappingURL=app.3c177c5b.js.map